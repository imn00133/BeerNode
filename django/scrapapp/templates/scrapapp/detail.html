{% extends 'base.html' %}
{% load static %}

{% block content %}
<!--https://m.blog.naver.com/PostView.nhn?blogId=inyoung313&logNo=220618323942&proxyReferer=https:%2F%2Fwww.google.com%2F-->
<style>
    .star-rating { width:304px;}
    .star-rating,.star-rating span { display:inline-block; height:55px; overflow:hidden; background:url(/static/rating.png)no-repeat; }
    .star-rating span{ background-position:left bottom; line-height:0; vertical-align:top; }
</style>


<link rel="stylesheet" href="{% static 'css/detail.css' %}">
<div class=main_content>

        <div class=pic_taste>
            <div id=picture>
                <img src="{{ target_beer.picture.url }}" alt="맥주 사진" id="profile">
            </div>
                <p style="font-size: 1.5rem;">평점</p>
                {% if target_beer.rating %}
                    //TODO bug fix
                    <span class="star-rating">
                    <span id="ratingwidth" style="width: {{ ratingwidth }} %"><script>
                        var rating = 20 * {{ target_beer.rating }};
                        object.style.width="rating";
                    </script></span>
                    </span>
                    <br>
                    {{ target_beer.rating }} / 5
                {% else %}
                    <h5>
                        평점이 없습니다
                    </h5>
                {% endif %}
            <div id=taste>
                <p style="font-size: 1.5rem;">맛</p>
                <ul>
                    <li>{{ target_beer.flavor }}</li>
                    <li>항목1</li>
                    <li>항목2</li>
                    <li>항목3</li>
                    <li>항목4</li>
                </ul>
            </div>
        </div>
        <div class=content>
            <div style="display:flex; flex-direction: row">
                <div  style="flex:1;display:flex;flex-direction:column">
                    <div id=title style="flex:1">
                        <p>{{ target_beer.beer_name }}</p>
                        <p>작성자: {{ target_beer.writer }}</p>
                    </div>
                </div>
                <div>
                    <div id=location style="flex:1">
                        <p>마신 장소: {{ target_beer.place }}</p>
                    </div>
                    <div style="position:relative;z-index:1">
                        {% if target_beer.lat %}
                            {% include 'scrapapp/detail_map.html' with target_beer=target_beer %}
                        {% else %}
                            장소가 없습니다
                        {% endif %}
                    </div>
                </div>
            </div>
<!--            <div id=title>-->
<!--                <p>{{ target_beer.beer_name }}</p>-->
<!--                <p>작성자: {{ target_beer.writer }}</p>-->
<!--            </div>-->
<!--            <div id=location>-->
<!--                <p>마신 장소: {{ target_beer.place }}</p>-->
<!--            </div>-->
            <div id=text>
                <p>{{ target_beer.context }}</p>
            </div>
        </div>
    </div>

{% if user == target_beer.writer %}
    <a href="{% url 'scrapapp:update' pk=target_beer.pk %}">
        수정
    </a>
    <a href="{% url 'scrapapp:delete' pk=target_beer.pk %}">
        삭제
    </a>
{% endif %}

{% endblock %}
