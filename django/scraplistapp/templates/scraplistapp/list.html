{% extends 'base.html' %}
{% load static %}
{% load bootstrap4 %}

{% block content %}

    <style>
        .nav{
            display:flex;
            flex-direction:row;
            justify-content: center;
        }
        .nav input{
            margin: 1rem;
            margin-bottom: 1.5rem;
        }
        .container div {
          width: 100px;
          display: flex;
          justify-content: center;
          align-items: center;
          border-radius: 8px;
        }
        .nav{
            display:flex;
            flex-direction:row;
            justify-content: center;
        }
        img{
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 1rem;
        }
    </style>
    <form method="get">
        {{ filter.form }}
        <button type="submit" class="btn btn-primary">Search</button>
    </form>
    <div style="text-align: center">
        <a href="{% url 'scrapapp:create' %}">
            스크랩 생성
        </a>
    </div>
    <div style="text-align: center">
        <span>
            <select name="display" onchange="selectionChanged(this)">
                <option value="block" selected="selected">미리보기</option>
                <option value="oneline">자세히</option>
            </select>
        </span>
        <span>
            <a href="{% url 'scraplistapp:block' %}">
                <input type="button" value="보기">
            </a>
        </span>
        <span>
            <div id='result'>미리보기</div>
        </span>
    </div>
    <script>
        var target='scraplistapp/list_block.html';
        function selectionChanged(e) {
            // 선택된 데이터의 텍스트값 가져오기
            const text = e.options[e.selectedIndex].value;
            target = 'scraplistapp/list_'+text+'.html';

            // 선택한 텍스트 출력
            document.getElementById('result').innerText
                = target;

        }
    </script>

<!--    {% include 'scraplistapp/list_block.html' %}-->
    {% if scrap_list %}
    <div class="container" style="text-align: center">
        {% for scrap in scrap_list %}
            <div>
                <a href="{% url 'scrapapp:detail' pk=scrap.pk %}">
                    {% include 'snippets/card_blocklist.html' with scrap=scrap %}
                </a>
            </div>
        {% endfor %}
    </div>
    {% endif %}
    <script src="{% static 'javascript/magicgrid.js' %}"}></script>

    {% include 'snippets/pagination.html' with page_obj=page_obj %}
{% endblock %}